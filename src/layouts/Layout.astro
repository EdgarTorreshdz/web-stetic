---
import Navbar from "../components/react/Navbar";
import Footer from "../components/Footer.astro";
import NavbarMobile from "../components/react/NavbarMobile";
import { Icon } from "astro-icon/components";
import LanguagePicker from '../components/react/LanguagePicker.jsx';
import WhatsappButton from '../components/shared/WhatsappButton.astro';
interface Props {
  title?: string;
  description?: string; // Nueva prop para SEO
  lang?: 'en' | 'es';
}

const { title, description, lang = 'en' } = Astro.props;
const canonicalURL = new URL(Astro.url.pathname, Astro.site || "https://steticdental.com.mx");
---

<!doctype html>
<html lang={lang}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="canonical" href={canonicalURL} />
    <meta name="robots" content="index, follow" />

    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalURL} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content="/logo.png" />

    <link rel="icon" type="image/png" href="/logo.png" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet" />

    <style is:global>
      html, body { 
        margin:0; 
        width:100%; 
        height:100%; 
        font-family:"Montserrat", sans-serif; 
        scroll-behavior:smooth; 
        background-color: #ffffff;
      }
      
      .main-header {
        background-color: #ffffff;
        display: none;
        border-bottom: 1px solid rgba(212, 175, 55, 0.3);
        position: sticky;
        top: 0;
        z-index: 1000;
        width: 100%;
      }

      .header-container {
        margin: 0 auto;
        width: 85%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 5px 0;
      }
      
      @media(min-width:768px){
        .main-header { display: block; }
      }

      .logo-desktop {
        width: 140px;
        height: auto;
      }

      .navbar-mobile-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #ffffff;
        padding: 8px 5%;
        position: sticky;
        top: 0;
        z-index: 1000;
        border-bottom: 1px solid #D4AF37;
      }
      .navbar-mobile-container img { width: 100px; }
      @media(min-width:768px){ .navbar-mobile-container { display: none; } }
    </style>
  </head>
  
  <body>
    <header class="main-header">
      <div class="header-container">
        <a href={`/${lang}/`}>
          <img src="/logo.png" alt="Logo Stetic Dental" class="logo-desktop" />
        </a>
        <Navbar client:load lang={lang} {...({key: lang} as any)} />
      </div>
    </header>

    <nav class="navbar-mobile-container">
      <img src="/logo.png" alt="Logo Stetic Dental" />
      <div style="display:flex; align-items:center; gap: 15px;">
        <LanguagePicker client:load currentLang={lang} />
        <NavbarMobile client:load lang={lang} {...({key: lang} as any)} />
      </div>
    </nav>

    <main id="contenido">
      <slot />
    </main>

    <Footer lang={lang} />

    <WhatsappButton lang={lang}/> 
  </body>
</html>