---
import { Icon } from "astro-icon/components";

interface Props {
  lang?: 'en' | 'es';
}

const { lang = "en" } = Astro.props;

const translations = {
  en: {
    // 1. Above the fold - Bloque crítico
    h1: "Trusted Dentist in Playa del Carmen, Mexico",
    subheadline: "High-quality dental care for international patients and Americans looking for safe, affordable treatment in Mexico.",
    benefits: [
      "English-speaking dentists",
      "Certified specialists",
      "Modern dental clinic in Playa del Carmen",
      "Affordable dental care vs USA"
    ],
    cta: "Book Your Consultation"
  },
  es: {
    h1: "Dentista de Confianza en Playa del Carmen, México",
    subheadline: "Atención dental de alta calidad para pacientes internacionales que buscan un tratamiento seguro y asequible en México.",
    benefits: [
      "Dentistas bilingües",
      "Especialistas certificados",
      "Clínica dental moderna",
      "Precios asequibles vs USA/Canadá"
    ],
    cta: "Agenda tu Consulta"
  }
};

const t = translations[lang];
---

<header class="header">
  <div class="header__video-container">
    <video 
      autoplay 
      muted 
      loop 
      playsinline 
      class="header__video"
    >
      <source src="/home/Slide-Home-1.mp4" type="video/mp4" />
    </video>
    
    <div class="header__overlay"></div>
    
    <div class="header__content container">
      <h1 class="header__title">
        {t.h1}
      </h1>
      
      <p class="header__subheadline">
        {t.subheadline}
      </p>

      <ul class="header__benefits">
        {t.benefits.map((benefit) => (
          <li class="header__benefit-item">
            <Icon name="asterik" class="text-gold" size={14} />
            <span>{benefit}</span>
          </li>
        ))}
      </ul>
      
      <div class="header__actions">
        <a class="header__btn" href="#contact">
          {t.cta}
          <Icon name="arrow-down" color="white" class="arrow-down" size={20} />
        </a>
      </div>
    </div>
  </div>
</header>

<style>
  :root {
    --gold: #A58E55;
    --black: #000000;
    --white: #ffffff;
  }

  .header { 
    position: relative; 
    width: 100%; 
    height: 90dvh; 
    min-height: 550px; 
    overflow: hidden; 
    background-color: var(--black);
  }

  .header__video-container {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .header__video {
    position: absolute;
    top: 50%;
    left: 50%;
    min-width: 100%;
    min-height: 100%;
    width: auto;
    height: auto;
    transform: translate(-50%, -50%);
    object-fit: cover;
    z-index: 0;
    filter: brightness(0.4);
  }

  .header__overlay { 
    position: absolute; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%; 
    z-index: 1; 
    background: linear-gradient(
      90deg, 
      rgba(0, 0, 0, 0.85) 0%, 
      rgba(0, 0, 0, 0.4) 60%, 
      rgba(0, 0, 0, 0.2) 100%
    ); 
  }

  .header__content { 
    position: relative; 
    color: var(--white); 
    text-align: left; 
    z-index: 2; 
    display: flex; 
    flex-direction: column; 
    justify-content: center; 
    align-items: flex-start; 
    height: 100%; 
    padding: 0 1rem;
  }

  /* H1 Style */
  .header__title { 
    font-size: 2.2rem; 
    font-weight: 800; 
    margin: 0.5rem 0; 
    text-transform: uppercase; 
    letter-spacing: -1px; 
    line-height: 1.1;
    max-width: 750px;
    color: var(--white);
  }

  /* Subheadline Style */
  .header__subheadline {
    font-size: 1.1rem;
    line-height: 1.4;
    max-width: 600px;
    margin-bottom: 1.5rem;
    color: #e0e0e0;
    font-weight: 400;
  }

  /* Benefits List */
  .header__benefits {
    list-style: none;
    padding: 0;
    margin: 0 0 2.5rem 0;
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
  }

  .header__benefit-item {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 0.95rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  @media (min-width: 768px) { 
    .header__title { font-size: 4rem; } 
    .header__subheadline { font-size: 1.3rem; }
    .header__content { padding: 0 2rem; }
  }

  .text-gold {
    color: var(--gold);
  }

  .header__actions {
    width: 100%;
    display: flex;
    justify-content: flex-start;
  }

  .header__btn { 
    background-color: var(--gold); 
    color: var(--white); 
    display: inline-flex; 
    align-items: center; 
    padding: 1.2rem 2.8rem; 
    text-decoration: none; 
    font-weight: 700; 
    font-size: 0.9rem; 
    text-transform: uppercase; 
    letter-spacing: 2px;
    transition: all 0.3s ease; 
    border: 2px solid var(--gold);
  }

  .header__btn:hover { 
    background-color: transparent; 
    color: var(--gold);
    transform: scale(1.05);
  }

  .container { 
    margin: 0 auto; 
    width: 90%; 
  }

  .arrow-down { 
    margin-left: 12px; 
    animation: bounce 2s infinite; 
  }

  @keyframes bounce { 
    0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 
    40% {transform: translateY(8px);} 
    60% {transform: translateY(4px);} 
  }
</style>