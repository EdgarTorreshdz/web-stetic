---
import { Icon } from "astro-icon/components";

interface Props {
  lang?: 'en' | 'es';
}

const { lang = "en" } = Astro.props;
const imgPath = '/home/';
const imgPathServicces = imgPath + 'services/';
const translations = {
  en: {
    title: "Our Dental Services in Playa del Carmen",
    description: "We offer a full range of dental services tailored for international patients looking for reliable dental care in Mexico:",
    viewMore: "View Details",
    services: [
      { title: "Dental implants", desc: "Permanent solutions to replace missing teeth with natural-looking results.", img: imgPathServicces + "Dental-implant.webp", link: "/en/dental-implants" },
      { title: "Veneers", desc: "Custom porcelain veneers designed to enhance your smile with long-lasting aesthetics.", img: imgPathServicces + "VeneersVeeners.webp", link: "/en/veneers" },
      { title: "Crowns", desc: "Durable dental crowns that restore strength, function, and natural appearance.", img: imgPathServicces + "Crown.webp", link: "/en/dental-crowns" },
      { title: "Clear Aligners", desc: "Discreet orthodontic solutions to straighten teeth comfortably and effectively.", img: imgPathServicces + "Clear-Aligners.webp", link: "/en/invisalign" },
      { title: "Root canal", desc: "Modern procedures to relieve pain, save your tooth, and restore oral health.", img: imgPathServicces + "Root-canal.webp", link: "/en/endodontics" },
      { title: "Smile design", desc: "Personalized treatments to create a balanced, natural and confident smile.", img: imgPathServicces + "Smile-design.webp", link: "/en/smile-design" },
      { title: "Teeth cleaning", desc: "Professional cleanings to remove plaque, protect gums, and maintain oral health.", img: imgPathServicces + "Theet-cleaning.webp", link: "/en/teeth-cleaning" },
      { title: "Teeth Whitening", desc: "Professional whitening treatments for a brighter, healthier-looking smile.", img: imgPathServicces + "Theet-whitening.webp", link: "/en/teeth-whitening" },
      { title: "Braces", desc: "Traditional orthodontic treatments to align teeth and improve bite function.", img: imgPathServicces + "Braces.webp", link: "/en/orthodontics" },
      { title: "Dental treatment abroad", desc: "Complete support for international patients seeking safe, affordable dental care.", img: imgPathServicces + "Dental-treatment.webp", link: "/en/dental-tourism-mexico" }
    ]
  },
  es: {
    title: "Nuestros Servicios Dentales en Playa del Carmen",
    description: "Ofrecemos una gama completa de servicios dentales adaptados para pacientes internacionales que buscan atención dental confiable en México:",
    viewMore: "Ver detalles",
    services: [
      { title: "Implantes Dentales", desc: "Soluciones permanentes para reemplazar dientes perdidos con resultados naturales.", img: "/dental_implants/Dental-implants-IMG-1.webp", link: "/es/implantes-dentales" },
      { title: "Carillas", desc: "Carillas de porcelana personalizadas diseñadas para mejorar su sonrisa.", img: "/veneers/Veneers-IMG-1.webp", link: "/es/carillas" },
      { title: "Coronas", desc: "Coronas dentales duraderas que restauran la fuerza, función y apariencia natural.", img: "/dental_crowns/Crown-IMG-1.webp", link: "/es/coronas-dentales" },
      { title: "Alineadores Claros", desc: "Soluciones de ortodoncia discretas para enderezar los dientes cómodamente.", img: "/invisalign/Invisalign-IMG-1.webp", link: "/es/invisalign" },
      { title: "Endodoncia", desc: "Procedimientos modernos para aliviar el dolor, salvar su diente y restaurar la salud.", img: "/root_canal_treatment/Root-canal-IMG-1.webp", link: "/es/endodoncia" },
      { title: "Diseño de Sonrisa", desc: "Tratamientos personalizados para crear una sonrisa equilibrada y natural.", img: "/smile_design/Smile-design-IMG-1.webp", link: "/es/diseno-de-sonrisa" },
      { title: "Limpieza Dental", desc: "Limpiezas profesionales para eliminar la placa, proteger las encías y mantener la salud.", img: "/teeth_cleaning/Theeth-cleaning-IMG-1.webp", link: "/es/limpieza-dental" },
      { title: "Blanqueamiento", desc: "Tratamientos profesionales para una sonrisa más brillante y saludable.", img: "/teeth_whitening/Teeth-whitening-IMG-1.webp", link: "/es/blanqueamiento-dental" },
      { title: "Brackets", desc: "Tratamientos tradicionales de ortodoncia para alinear los dientes.", img: "/ortodoncia.png", link: "/es/ortodoncia" },
      { title: "Tratamiento Dental en el Extranjero", desc: "Soporte completo para pacientes internacionales que buscan atención segura.", img: "/dental_tourism/Dental-Tourism-IMG-1.webp", link: "/es/turismo-dental" }
    ]
  }
};

const t = translations[lang];
---

<section class="services-lux">
  <div class="container-fluid">
    <div class="services-lux__header">
      <h2 class="services-lux__title">{t.title}</h2>
      <p class="services-lux__intro">{t.description}</p>
    </div>

    <div class="services-lux__grid">
      {t.services.map((service) => (
        <a href={service.link} class="service-card">
          <img src={service.img} alt={service.title} class="service-card__bg" />
          <div class="service-card__overlay"></div>
          
          <div class="service-card__content">
            <h3 class="service-card__title">{service.title}</h3>
            <p class="service-card__description">{service.desc}</p>
            <div class="service-card__action">
              <span>{t.viewMore}</span>
              <Icon name="right-arrow" size={18} />
            </div>
          </div>
          
          <div class="service-card__border"></div>
        </a>
      ))}
    </div>
  </div>
</section>

<style>
  :root {
    --gold: #A58E55;
    --black: #000000;
    --white: #ffffff;
  }

  .services-lux {
    background-color: var(--white);
    padding: 5rem 0;
  }

  .services-lux__header {
    text-align: center;
    margin-bottom: 4rem;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
    padding: 0 1rem;
  }

  .services-lux__title {
    font-size: 2.2rem;
    font-weight: 800;
    text-transform: uppercase;
    color: var(--black);
    margin-bottom: 1.5rem;
    line-height: 1.1;
  }

  .services-lux__intro {
    font-size: 1.1rem;
    color: #555;
    line-height: 1.6;
  }

  .services-lux__grid {
    display: grid;
    /* Configuración para 5 columnas en desktop */
    grid-template-columns: repeat(1, 1fr);
    gap: 1rem;
    padding: 0 1rem;
  }

  /* Tablets: 2 o 3 columnas */
  @media (min-width: 640px) {
    .services-lux__grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .services-lux__grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* Desktop Grande: Forzamos las 5 columnas */
  @media (min-width: 1440px) {
    .services-lux__grid {
      grid-template-columns: repeat(5, 1fr);
      gap: 0.75rem;
    }
  }

  .service-card {
    position: relative;
    width: 100%;
    height: 380px; /* Reducido ligeramente para balancear el ancho menor */
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    overflow: hidden;
    border-radius: 2px;
    text-decoration: none;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  }

  .service-card__bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 0;
    transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .service-card__overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      to top, 
      rgba(0,0,0,0.9) 0%, 
      rgba(0,0,0,0.4) 50%, 
      rgba(0,0,0,0.1) 100%
    );
    z-index: 1;
  }

  .service-card__content {
    position: relative;
    z-index: 2;
    padding: 1.25rem; /* Padding reducido para tarjetas más delgadas */
    text-align: left;
  }

  .service-card__title {
    font-size: 1.15rem; /* Tamaño de fuente ajustado para 5 columnas */
    font-weight: 800;
    color: var(--white);
    text-transform: uppercase;
    margin-bottom: 0.5rem;
    letter-spacing: 0.5px;
  }

  .service-card__description {
    font-size: 0.85rem;
    color: #ddd;
    margin-bottom: 1rem;
    line-height: 1.3;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .service-card__action {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--gold);
    font-weight: 700;
    font-size: 0.75rem;
    text-transform: uppercase;
  }

  .service-card__border {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 4px;
    background-color: var(--gold);
    z-index: 3;
    transition: width 0.5s ease;
  }

  @media (hover: hover) {
    .service-card:hover .service-card__bg {
      transform: scale(1.1);
    }
    .service-card:hover .service-card__border {
      width: 100%;
    }
  }

  .container-fluid {
    margin: 0 auto;
    width: 95%;
    max-width: 1600px; /* Max-width ampliado para dar espacio a las 5 columnas */
  }

  @media (max-width: 768px) {
    .services-lux__title {
      font-size: 1.8rem;
    }
  }
</style>